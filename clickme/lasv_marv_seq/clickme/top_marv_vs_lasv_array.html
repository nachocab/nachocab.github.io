<!DOCTYPE html>
<html>
  <head>
    <meta http-equiv="Content-Type" content="text/html; charset=utf-8"/>
    <base target="_blank"> <!-- open all links on a new tab -->

    <title>LASV vs MARV - Top genes 0 â†’ 3 dpi</title>

    <link href="clickme_assets/bootstrap-tooltip.css" rel="stylesheet">
<link href="clickme_assets/clickme.css" rel="stylesheet">
<script src="clickme_assets/d3.v3.js"></script>
<script src="clickme_assets/d3_aux.js"></script>
<script src="clickme_assets/jquery.min.js"></script>
<script src="clickme_assets/bootstrap-tooltip.v2_3.js"></script>

  </head>

  <body>
    <script type="text/javascript">
(function() {
  var clip, color_legend_counts, color_scale, color_title, data, g_color_legend, g_points, g_toggle_names, opacity, plot, point_names, points, radius, redraw, sidebar, toggle_names, toggle_points, transform;

  data = [{"x":4.61327645595984,"y":1.96088829295761,"point_name":"CCDC162P","gene_id":"CCDC162P_139_82"},
{"x":-0.175785897284316,"y":-2.39114993232191,"point_name":"C6ORF170","gene_id":"C6ORF170_200_80"},
{"x":-0.0203381280785987,"y":-2.5673471706721,"point_name":"TAG","gene_id":"TAG_91_57"},
{"x":3.57099085537644,"y":1.67045887901547,"point_name":"KCTD14","gene_id":"KCTD14_143_19"},
{"x":1.8158002917965,"y":0.600340025149566,"point_name":"SAMD4A","gene_id":"SAMD4A_56_47"},
{"x":2.41501012215832,"y":0.650517008642363,"point_name":"APOBEC3B","gene_id":"APOBEC3B_394_49"},
{"x":3.89294459263379,"y":2.24990908383817,"point_name":"PCDH20","gene_id":"PCDH20_64_36"},
{"x":2.20674473058438,"y":1.13480910021479,"point_name":"IL27","gene_id":"IL27_156_22"},
{"x":2.31697271698553,"y":0.628582627130325,"point_name":"RIN2","gene_id":"RIN2_353_64"},
{"x":1.72669963436787,"y":0.688006096556791,"point_name":"SAMD4A","gene_id":"SAMD4A_217_46"},
{"x":3.22281071228733,"y":0.586090627391638,"point_name":"SIGLEC1","gene_id":"SIGLEC1_485_69"},
{"x":1.56884427554029,"y":1.10377753915561,"point_name":"SDC3","gene_id":"SDC3_315_82"},
{"x":-0.0295385775422345,"y":-2.32462272761425,"point_name":"KRT40","gene_id":"KRT40_431_51"},
{"x":-0.843430821364693,"y":-2.5620609153803,"point_name":"JUN","gene_id":"JUN_356_79"},
{"x":0.0596879430258901,"y":-2.38421644674892,"point_name":"KIAA1598","gene_id":"KIAA1598_178_69"},
{"x":-0.232007779185475,"y":-1.83558339429715,"point_name":"BC040680","gene_id":"BC040680_36_28"},
{"x":-0.540123200035023,"y":-2.35097984240753,"point_name":"OR2A1","gene_id":"OR2A1_532_58"},
{"x":-0.795441423073849,"y":-2.29246551135413,"point_name":"LOC280665","gene_id":"LOC280665_249_80"},
{"x":-0.110876440115246,"y":-1.84599762497962,"point_name":"RTDR1","gene_id":"RTDR1_177_51"},
{"x":0.04487079538623,"y":-2.27412756671522,"point_name":"TPTEP1","gene_id":"TPTEP1_254_22"},
{"x":-0.547758089296937,"y":-1.91404416391723,"point_name":"OR4C46","gene_id":"OR4C46_71_54"},
{"x":0.432951374809959,"y":-1.79937969270102,"point_name":"KIRREL3","gene_id":"KIRREL3_254_71"},
{"x":-0.389136389582533,"y":-2.13626829858973,"point_name":"PRSS48","gene_id":"PRSS48_428_65"},
{"x":0.576504570790237,"y":-1.50277592531559,"point_name":"KIRREL3","gene_id":"KIRREL3_344_56"},
{"x":-0.374248064580207,"y":-2.40841129409962,"point_name":"LOC100131199","gene_id":"LOC100131199_290_82"},
{"x":0.289604953882293,"y":-1.73572632169256,"point_name":"KIRREL3","gene_id":"KIRREL3_96_10"},
{"x":-0.456067339779753,"y":-2.24768400764422,"point_name":"LOC100131298","gene_id":"LOC100131298_54_27"},
{"x":0.316005111861747,"y":-1.66139812431137,"point_name":"KIRREL3","gene_id":"KIRREL3_407_37"},
{"x":-0.541105666173303,"y":-2.61506504063539,"point_name":"PLK3","gene_id":"PLK3_294_27"},
{"x":-0.82192639280328,"y":-2.77494129918048,"point_name":"NR4A2","gene_id":"NR4A2_110_46"},
{"x":-0.096137413070327,"y":-1.52449132093065,"point_name":"ZFP36","gene_id":"ZFP36_87_71"},
{"x":-1.05162857436466,"y":-3.01376696562376,"point_name":"ZBTB21","gene_id":"ZBTB21_467_51"},
{"x":-0.389221309648382,"y":-2.18386556589387,"point_name":"ZNF705D","gene_id":"ZNF705D_347_39"},
{"x":-0.568354007924,"y":-2.19881452471161,"point_name":"AW002507","gene_id":"AW002507_476_83"},
{"x":1.92624592992335,"y":0.921830872118165,"point_name":"PTPRO","gene_id":"PTPRO_282_25"},
{"x":3.87047770940599,"y":3.02901409247134,"point_name":"ISG15","gene_id":"ISG15_31_16"},
{"x":0.431215167741553,"y":-1.51215014696493,"point_name":"KIRREL3","gene_id":"KIRREL3_68_11"},
{"x":4.15498046837023,"y":2.34255678376687,"point_name":"MX1","gene_id":"MX1_296_76"},
{"x":-0.20536745212129,"y":-2.14833641803787,"point_name":"C1QL2","gene_id":"C1QL2_92_38"},
{"x":-0.570708913799357,"y":-1.88403200811303,"point_name":"INHBB","gene_id":"INHBB_511_17"},
{"x":0.287618916750298,"y":-1.58616878203937,"point_name":"KIRREL3","gene_id":"KIRREL3_333_32"},
{"x":-0.548952237090959,"y":-1.7488752775202,"point_name":"LOC651250","gene_id":"LOC651250_265_20"},
{"x":-0.0336887814468492,"y":-2.88574574974668,"point_name":"AC083883.1","gene_id":"AC083883.1_336_74"},
{"x":1.68068319740937,"y":0.44993314748794,"point_name":"MOCOS","gene_id":"MOCOS_269_84"},
{"x":-0.230566542474376,"y":-1.98231226120947,"point_name":"NTSR2","gene_id":"NTSR2_239_28"},
{"x":2.1739288560018,"y":0.813858423561937,"point_name":"APOL6","gene_id":"APOL6_388_17"},
{"x":2.03178791043593,"y":-0.49527292677428,"point_name":"RP11-468E2.4","gene_id":"RP11-468E2.4_393_82"},
{"x":0.205892006105326,"y":-1.62756168534591,"point_name":"KIRREL3","gene_id":"KIRREL3_498_61"},
{"x":2.30114925547106,"y":1.06928217192839,"point_name":"OAS3","gene_id":"OAS3_143_30"},
{"x":1.63720469126248,"y":0.496016532301913,"point_name":"MOCOS","gene_id":"MOCOS_287_40"},
{"x":1.66686466447542,"y":0.463205596529624,"point_name":"MOCOS","gene_id":"MOCOS_371_47"},
{"x":1.66888679949284,"y":0.502460519193272,"point_name":"MOCOS","gene_id":"MOCOS_278_52"},
{"x":1.65339419435604,"y":0.511380327802567,"point_name":"MOCOS","gene_id":"MOCOS_357_54"},
{"x":3.62907326734639,"y":2.56801424036157,"point_name":"OAS1","gene_id":"OAS1_97_61"},
{"x":4.11153181148699,"y":3.03494926931548,"point_name":"CMPK2","gene_id":"CMPK2_95_70"},
{"x":-0.120941365167357,"y":-1.78027434387857,"point_name":"GLI1","gene_id":"GLI1_398_3"},
{"x":0.0688230176922984,"y":-1.81377169791484,"point_name":"SNORA76","gene_id":"SNORA76_46_76"},
{"x":0.462456476170783,"y":-1.74155472388524,"point_name":"CXCR4","gene_id":"CXCR4_37_78"},
{"x":-0.133886428535782,"y":-1.59413775052172,"point_name":"ADARB2","gene_id":"ADARB2_357_38"},
{"x":0.0710270339734599,"y":-2.19164154337644,"point_name":"A_33_P3405904","gene_id":"A_33_P3405904_380_48"},
{"x":1.64916620529253,"y":0.549454261738836,"point_name":"MOCOS","gene_id":"MOCOS_145_5"},
{"x":0.469736351012886,"y":-1.81089927531488,"point_name":"LOC729032","gene_id":"LOC729032_416_73"},
{"x":1.65674516335955,"y":0.525663264062758,"point_name":"MOCOS","gene_id":"MOCOS_297_25"},
{"x":-0.511590554843806,"y":-2.26917053717357,"point_name":"PRO2852","gene_id":"PRO2852_272_41"},
{"x":1.66365568276128,"y":0.544109352771103,"point_name":"MOCOS","gene_id":"MOCOS_438_29"},
{"x":-0.31937299466809,"y":-1.59034253776338,"point_name":"ZFP36L2","gene_id":"ZFP36L2_67_84"},
{"x":3.34628218897669,"y":3.33853071983536,"point_name":"IFI44L","gene_id":"IFI44L_45_44"},
{"x":-0.330755507280875,"y":-1.70868314596829,"point_name":"SLC22A11","gene_id":"SLC22A11_329_17"},
{"x":-0.241300884389366,"y":-1.5644141158186,"point_name":"BRD3","gene_id":"BRD3_118_52"},
{"x":0.43433718318702,"y":-1.70335489109589,"point_name":"CXCR4","gene_id":"CXCR4_26_72"},
{"x":-0.279835137103579,"y":-1.53277881209885,"point_name":"ZFP36L2","gene_id":"ZFP36L2_16_42"},
{"x":-0.3133046660331,"y":-1.68408399630134,"point_name":"EPB41L1","gene_id":"EPB41L1_206_19"},
{"x":1.64057898213648,"y":0.556547643094274,"point_name":"MOCOS","gene_id":"MOCOS_311_18"},
{"x":1.64299416794357,"y":0.55953637854539,"point_name":"MOCOS","gene_id":"MOCOS_189_4"},
{"x":-0.123360683877334,"y":-1.60448280209127,"point_name":"RCVRN","gene_id":"RCVRN_356_75"},
{"x":-0.0736472705966067,"y":-1.5042466743472,"point_name":"RCVRN","gene_id":"RCVRN_41_84"},
{"x":-0.354566592839115,"y":-1.93240576750539,"point_name":"NEAT1","gene_id":"NEAT1_489_44"},
{"x":-0.624889360204111,"y":-2.19606100096747,"point_name":"FOXR1","gene_id":"FOXR1_429_49"},
{"x":2.25894386277671,"y":1.53418887744014,"point_name":"EPSTI1","gene_id":"EPSTI1_75_59"},
{"x":-0.482158744916551,"y":-1.75968076890614,"point_name":"PFKFB3","gene_id":"PFKFB3_416_44"},
{"x":-0.124616138767583,"y":-1.70618042762474,"point_name":"RCVRN","gene_id":"RCVRN_337_73"},
{"x":2.21436113932164,"y":1.56289192785596,"point_name":"EPSTI1","gene_id":"EPSTI1_80_73"},
{"x":2.27288724712715,"y":1.41809473835895,"point_name":"HRASLS2","gene_id":"HRASLS2_443_78"},
{"x":2.18167828954561,"y":1.6249537292345,"point_name":"EPSTI1","gene_id":"EPSTI1_56_20"},
{"x":2.2478148357123,"y":1.59460100274751,"point_name":"HRASLS2","gene_id":"HRASLS2_107_7"},
{"x":-0.616536071696276,"y":-2.65573876669867,"point_name":"NR4A2","gene_id":"NR4A2_515_23"},
{"x":-0.32704284138158,"y":-1.51200998947766,"point_name":"LOC728588","gene_id":"LOC728588_429_80"},
{"x":-0.304238680497787,"y":-1.50959958246702,"point_name":"ZFP36L2","gene_id":"ZFP36L2_521_71"},
{"x":0.0145365920451535,"y":-2.36371874797036,"point_name":"SNORA2A","gene_id":"SNORA2A_501_72"},
{"x":-0.353394348094063,"y":-1.59649741778921,"point_name":"BSDC1","gene_id":"BSDC1_175_63"},
{"x":0.151468729158509,"y":-1.57927745245014,"point_name":"RBM47","gene_id":"RBM47_427_57"},
{"x":-0.245075299308627,"y":-1.90988357597064,"point_name":"SF1","gene_id":"SF1_288_54"},
{"x":-0.318164006289062,"y":-1.50442565747027,"point_name":"REM2","gene_id":"REM2_87_82"},
{"x":-0.333251476263114,"y":-1.59019448452922,"point_name":"LOC727808","gene_id":"LOC727808_180_69"},
{"x":0.436242919721205,"y":-1.73506878626493,"point_name":"CXCR4","gene_id":"CXCR4_110_76"},
{"x":2.15718699677512,"y":1.24506397459861,"point_name":"TRIM14","gene_id":"TRIM14_161_29"},
{"x":-0.401816043544994,"y":-1.67888634588437,"point_name":"SSH2","gene_id":"SSH2_361_75"},
{"x":-0.298188366086141,"y":-1.51517251452228,"point_name":"ZFP36L2","gene_id":"ZFP36L2_137_78"},
{"x":2.0129752071729,"y":1.33830080318763,"point_name":"HRASLS2","gene_id":"HRASLS2_403_46"},
{"x":3.17281572996153,"y":1.61724449325881,"point_name":"USP18","gene_id":"USP18_101_14"},
{"x":0.464057690092544,"y":-1.66426397646164,"point_name":"CXCR4","gene_id":"CXCR4_129_65"},
{"x":2.12360679411171,"y":1.46294429821797,"point_name":"HRASLS2","gene_id":"HRASLS2_174_69"},
{"x":-0.129791796250655,"y":-1.66253696219633,"point_name":"RCVRN","gene_id":"RCVRN_295_33"},
{"x":-0.303615276365244,"y":-2.09668769735531,"point_name":"SIK1","gene_id":"SIK1_20_70"},
{"x":2.19820095769651,"y":1.79041502562978,"point_name":"IRF7","gene_id":"IRF7_427_85"},
{"x":-0.347095940259204,"y":-1.83055096092221,"point_name":"RP11-579D7.1","gene_id":"RP11-579D7.1_74_69"},
{"x":2.16416413859701,"y":1.54489875502103,"point_name":"HRASLS2","gene_id":"HRASLS2_24_23"},
{"x":3.89365408303787,"y":3.09439428932181,"point_name":"HERC5","gene_id":"HERC5_118_79"},
{"x":1.21479588869364,"y":1.62400554715015,"point_name":"APOL4","gene_id":"APOL4_26_58"},
{"x":2.05484906299473,"y":1.64479524350798,"point_name":"HRASLS2","gene_id":"HRASLS2_40_12"},
{"x":0.251721853952624,"y":-2.10488128051042,"point_name":"PDS5A","gene_id":"PDS5A_249_46"},
{"x":-0.722645459228731,"y":-1.68013564339256,"point_name":"AC023490.1","gene_id":"AC023490.1_174_16"},
{"x":-0.337809905274259,"y":-1.59771089241092,"point_name":"ATXN2L","gene_id":"ATXN2L_260_67"},
{"x":-0.634333267845691,"y":-1.57263924632042,"point_name":"GAPVD1","gene_id":"GAPVD1_395_60"},
{"x":-0.137214386700354,"y":-1.68800221710257,"point_name":"RCVRN","gene_id":"RCVRN_530_67"},
{"x":2.26238123036404,"y":1.65010491193439,"point_name":"EPSTI1","gene_id":"EPSTI1_493_25"},
{"x":0.445841312789374,"y":-1.59992262435529,"point_name":"CXCR4","gene_id":"CXCR4_93_37"},
{"x":-0.28841449992134,"y":-1.50395275003989,"point_name":"ZFP36L2","gene_id":"ZFP36L2_500_63"},
{"x":-0.26497709786286,"y":-1.68759688079698,"point_name":"MBP","gene_id":"MBP_339_45"},
{"x":2.16214173396598,"y":1.3696522566707,"point_name":"HRASLS2","gene_id":"HRASLS2_73_38"},
{"x":1.62837020888735,"y":0.303224743097833,"point_name":"BARD1","gene_id":"BARD1_53_75"},
{"x":2.23283954432084,"y":1.58481929161229,"point_name":"HRASLS2","gene_id":"HRASLS2_449_49"},
{"x":2.12811433594314,"y":1.53517898219608,"point_name":"HRASLS2","gene_id":"HRASLS2_296_84"},
{"x":0.497079454914669,"y":-1.57183747677825,"point_name":"CXCR4","gene_id":"CXCR4_116_10"},
{"x":0.114388375769365,"y":-1.94729879414147,"point_name":"TMEM87A","gene_id":"TMEM87A_74_74"},
{"x":2.22061160480476,"y":1.50318429299578,"point_name":"EPSTI1","gene_id":"EPSTI1_152_39"},
{"x":0.497381019947256,"y":-1.61322941804921,"point_name":"CXCR4","gene_id":"CXCR4_261_29"},
{"x":2.17487340782901,"y":1.66184061344195,"point_name":"EPSTI1","gene_id":"EPSTI1_291_7"},
{"x":-0.0452576929046389,"y":-1.77876979448292,"point_name":"RCVRN","gene_id":"RCVRN_253_36"},
{"x":2.16597696864724,"y":1.61987569412222,"point_name":"EPSTI1","gene_id":"EPSTI1_309_68"},
{"x":0.488556199145833,"y":-1.53576840585984,"point_name":"CXCR4","gene_id":"CXCR4_159_11"},
{"x":2.25262767743955,"y":1.62321161840264,"point_name":"EPSTI1","gene_id":"EPSTI1_479_26"},
{"x":0.467945926600529,"y":-1.61205901415031,"point_name":"CXCR4","gene_id":"CXCR4_486_71"},
{"x":2.2615911630703,"y":1.63931671363392,"point_name":"EPSTI1","gene_id":"EPSTI1_221_10"},
{"x":-0.192329838861194,"y":-1.55943005463224,"point_name":"DYNLT1","gene_id":"DYNLT1_136_15"},
{"x":-0.633699425166473,"y":-2.03172773903555,"point_name":"FXYD5","gene_id":"FXYD5_220_56"},
{"x":-0.426359350203209,"y":-1.89226192931931,"point_name":"CEP120","gene_id":"CEP120_296_82"},
{"x":-0.0842307548625423,"y":-1.63399146987791,"point_name":"PHACTR1","gene_id":"PHACTR1_68_68"},
{"x":0.435115009020737,"y":-1.64040564780993,"point_name":"CXCR4","gene_id":"CXCR4_337_30"},
{"x":0.201241079526411,"y":-1.5259191178025,"point_name":"RP5-1148A21.3","gene_id":"RP5-1148A21.3_180_70"},
{"x":0.0612518406144686,"y":1.53888800508825,"point_name":"CETN3","gene_id":"CETN3_65_7"},
{"x":-1.66694849611181,"y":-0.0980553395189458,"point_name":"RANBP2","gene_id":"RANBP2_237_3"},
{"x":0.542921810622151,"y":2.2659228637839,"point_name":"CXORF21","gene_id":"CXORF21_367_10"},
{"x":0.481710826005377,"y":2.0381849778479,"point_name":"LINC00324","gene_id":"LINC00324_367_22"},
{"x":-0.322160323045465,"y":1.53903381024892,"point_name":"ZNF322P1","gene_id":"ZNF322P1_416_77"},
{"x":0.827231884826637,"y":1.60800955897278,"point_name":"IL6","gene_id":"IL6_373_64"},
{"x":0.299221635338917,"y":1.61860212509943,"point_name":"MGAT2","gene_id":"MGAT2_239_16"},
{"x":0.331536602507898,"y":1.69770654151211,"point_name":"UVRAG","gene_id":"UVRAG_162_1"},
{"x":0.646996425898019,"y":1.6948050618816,"point_name":"IL6","gene_id":"IL6_339_53"},
{"x":0.476693229205134,"y":1.74548768167086,"point_name":"IL6","gene_id":"IL6_345_14"},
{"x":0.454982112211846,"y":2.109766583904,"point_name":"METTL4","gene_id":"METTL4_188_71"},
{"x":0.568884944952522,"y":1.60228180672385,"point_name":"IL6","gene_id":"IL6_172_53"},
{"x":0.621078002785213,"y":1.57029874315612,"point_name":"ZNF773","gene_id":"ZNF773_40_41"},
{"x":0.657569548404648,"y":1.73777182019967,"point_name":"IL6","gene_id":"IL6_309_34"},
{"x":0.372903277355661,"y":1.68373683152971,"point_name":"IL6","gene_id":"IL6_123_68"},
{"x":0.429091471800268,"y":1.72917058060123,"point_name":"IL6","gene_id":"IL6_328_66"},
{"x":0.323353541459781,"y":1.77747893070418,"point_name":"IL6","gene_id":"IL6_287_2"},
{"x":0.471789146065315,"y":1.78745934089058,"point_name":"IL6","gene_id":"IL6_66_57"},
{"x":0.0496534066959389,"y":1.59650485461081,"point_name":"ZNF610","gene_id":"ZNF610_236_66"},
{"x":0.435580633835053,"y":1.64887911489858,"point_name":"IL6","gene_id":"IL6_406_84"},
{"x":0.72554683742926,"y":2.20392048208801,"point_name":"ZSWIM3","gene_id":"ZSWIM3_350_16"},
{"x":0.392453989169376,"y":1.90480378072078,"point_name":"CCDC121","gene_id":"CCDC121_337_5"},
{"x":0.804404107746522,"y":2.01050176577096,"point_name":"XAF1","gene_id":"XAF1_124_26"},
{"x":-0.556740837664533,"y":1.81064709631369,"point_name":"RANBP2","gene_id":"RANBP2_479_1"},
{"x":-0.883978583795086,"y":1.75644772260179,"point_name":"BIRC3","gene_id":"BIRC3_303_23"},
{"x":0.869077729151653,"y":3.95780008143488,"point_name":"HSPA1B","gene_id":"HSPA1B_179_12"},
{"x":-0.991370219850379,"y":3.11847495024584,"point_name":"THAP2","gene_id":"THAP2_234_34"}];

  radius = 5;

  color_scale = d3.scale.ordinal().range(["#000"]);;

  opacity = null;

  color_title = null;

  color_legend_counts = [];

  plot = new_plot({
    width: 500,
    height: 500,
    padding: {"top":150,"right":400,"bottom":70,"left":100},
    xlab: "LASV Fold-Change (log2)",
    ylab: "MARV Fold-Change (log2)",
    rotate_label: {
      y: true
    },
    title: "LASV vs MARV - Top genes 0 \u2192 3 dpi",
    subtitle: null,
    box: false,
    xlim: null,
    ylim: null,
    data_ranges: {
          x: [-1.66694849611181,4.61327645595984],
          y: [-3.01376696562376,3.95780008143488]
        },
    categorical_domains: {
          x: null,
          y: null
        },
    jitter: 0,
    ordinal_scale_padding: 1,
    linear_scale_padding: 40
  });

  plot.tooltip_text = function(d) {
    return "<strong>" + d.point_name + "</strong>" + "<br>" + "MARV Fold-Change (log2): " + format_property(d.y) + "<br>" + "LASV Fold-Change (log2): " + format_property(d.x) + "<br>" + "gene_id: " + format_property(d["gene_id"]);
  };

  plot.center.append("defs").append("clipPath").attr("id", "clip").append("rect").attr({
    "width": plot.width,
    "height": plot.height
  });

  clip = plot.center.append("g").attr("clip-path", "url(#clip)");

  if (plot.zoom) {
    clip.append("rect").style({
      "cursor": "move"
    }).attr({
      "class": "overlay",
      "width": plot.width,
      "height": plot.height,
      "fill": "none",
      "pointer-events": "all"
    }).call(d3.behavior.zoom().x(plot.scales.x).y(plot.scales.y).scaleExtent([1, Infinity]).on("zoom", function() {
      return redraw();
    }));
    redraw = function() {
      plot.select(".x.axis").call(plot.axes.x);
      plot.select(".y.axis").call(plot.axes.y);
      return g_points.attr("transform", transform);
    };
  }

  transform = function(d) {
    return "translate(" + (plot.scales.x(d.x) + plot.jitters.x()) + ", " + (plot.scales.y(d.y) + plot.jitters.y()) + ")";
  };

  g_points = clip.selectAll(".point").data(data).enter().append("g").attr({
    "class": "point",
    "transform": transform
  });

  points = g_points.append("svg:circle").attr({
    "class": "point_tooltip",
    "r": radius,
    "fill": function(d) {
      return color_scale(d.group);
    },
    "opacity": function(d, i) {
      return opacity;
    },
    "title": function(d) {
      return plot.tooltip_text(d);
    }
  });

  $(".point_tooltip").tooltip({
    html: true,
    container: "body",
    placement: "top"
  });

  point_names = g_points.append("text").text(function(d) {
    return d.point_name;
  }).attr({
    "dy": ".32em",
    "dx": 8,
    "text-anchor": "left",
    "display": "none"
  }).style({
    "fill": function(d) {
      return color_scale(d.group);
    },
    "font-size": "22px"
  });

  if (true) {
    sidebar = plot.right_margin.append("g").attr("transform", "translate(60,0)");
    g_toggle_names = sidebar.append("g").style("cursor", "pointer").style("font-size", "22px").on("click", function() {
      return toggle_names();
    });
    g_toggle_names.append("circle").attr("r", 7).attr("stroke", "black").attr("stroke-width", 2).attr("fill", "white");
    g_toggle_names.append("text").attr('text-anchor', 'start').attr('dy', '.32em').attr('dx', '12').text("Show names (" + data.length + ")");
    toggle_names = function() {
      var showing_point_names;
      showing_point_names = g_toggle_names.classed("show_names");
      point_names.attr("display", function() {
        if (showing_point_names) {
          return "none";
        } else {
          return "inline";
        }
      });
      return g_toggle_names.attr("class", function() {
        if (showing_point_names) {
          return "";
        } else {
          return "show_names";
        }
      }).select("circle").attr("fill", function() {
        if (showing_point_names) {
          return "white";
        } else {
          return "black";
        }
      });
    };
    if (color_scale.range().length > 1) {
      sidebar.append("text").attr({
        "class": "color_title",
        "x": -radius,
        "y": 45,
        "dy": ".35em"
      }).style({
        "font-size": "16px",
        "font-weight": "bold"
      }).text(color_title);
      g_color_legend = sidebar.selectAll(".key").data(color_scale.domain().reverse()).enter().append("g").attr({
        "transform": function(d, i) {
          return "translate(0, " + (i * (radius * 2 + 15) + 70) + ")";
        },
        "class": "key"
      }).style("cursor", "pointer");
      g_color_legend.append("circle").attr({
        "r": radius,
        "fill": color_scale
      }).on("click", function(d) {
        return toggle_points(d);
      });
      g_color_legend.append("text").attr({
        "x": radius + 10,
        "y": 0,
        "dy": ".35em"
      }).text(function(d) {
        return "" + d + " (" + color_legend_counts[d] + ")";
      }).on("click", function(d) {
        return toggle_points(d);
      });
    }
  }

  toggle_points = function(category) {
    g_points.filter(function(d) {
      return d.group === category;
    }).classed("hide", function() {
      return !d3.select(this).classed("hide");
    });
    return g_points.filter(function(d) {
      return d.group !== category;
    }).classed("hide", false);
  };

}).call(this);


    </script>
    <div class = "code">
        
    </div>
  </body>
</html>
